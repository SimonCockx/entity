<ion-header>
  <ion-toolbar>
    <ion-title>event-list</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item *ngFor="let event of events">
      <ion-label>
        <h2>{{ event.name }}</h2>
        <h3>{{ event.year }}</h3>
        <p>{{ event.description }}</p>
        <ion-button color="danger" (click)="deleteEvent(event)">
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-button>
      </ion-label>
    </ion-item>
    <ion-item *ngIf="isCreating">
      <ion-label>
        <ion-spinner></ion-spinner>
      </ion-label>
    </ion-item>
    <ion-item>
      <ion-list>
        <ion-item>
          <ion-input placeholder="Name of new event..."
          [value]="newEvent.name" (ionChange)="newEvent.name = $event.detail.value"></ion-input>
        </ion-item>
        <ion-item>
          <ion-input placeholder="Year..." 
          [value]="newEvent.year || null" (ionChange)="newEvent.year = $event.detail.value || 0"
           type="number"></ion-input>
        </ion-item>
        <ion-item>
          <ion-textarea placeholder="Description..."
          [value]="newEvent.description" (ionChange)="newEvent.description = $event.detail.value"></ion-textarea>
        </ion-item>
        <ion-item>
          <ion-button (click)="addEvent()" [disabled]="isCreating">Add event</ion-button>
        </ion-item>
      </ion-list>
    </ion-item>
  </ion-list>
</ion-content>
